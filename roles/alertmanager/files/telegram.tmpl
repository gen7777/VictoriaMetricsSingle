{{ define "telegram.message" }}
{{ range .Alerts }}
{{ $severity := .Labels.severity -}}
{{ $alertName := .Labels.alertname }}
{{ $dc := .Labels.datacenter }}
{{ $ns := .Labels.namespace }}
{{ $summary := .Annotations.summary }}
{{ $descr := .Annotations.description}}
{{ $runbook := .Annotations.runbook_url }}
{{ if eq .Status "firing" }}

ğŸ”¥ <b>{{ $alertName }}</b>
{{ if eq $severity "critical" }}ğŸ¤¬ <b>Ğ£Ñ€Ğ¾Ğ²ĞµĞ½ÑŒ:</b> ĞšÑ€Ğ¸Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ 
ğŸ‘‰{{ if ne $descr "" }}â„¹ <b>ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ:</b>{{ $descr }}{{ end }}
{{ if ne $dc "" }}ğŸ  Ğ”Ğ¦: <b>{{ $dc }}</b> {{ end }} / {{ if ne $ns "" }}ğŸ‘‰NS: <b>{{ $ns }}</b> {{ end }}
{{ end }}

{{ else if eq $severity "warning" }}
ğŸ˜± <b>Ğ£Ñ€Ğ¾Ğ²ĞµĞ½ÑŒ:</b> Ğ’Ğ½Ğ¸Ğ¼Ğ°Ğ½Ğ¸Ğµ
ğŸ‘‰{{ if ne $descr "" }}â„¹ <b>ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ:</b>{{ $descr }}{{ end }}
{{ if ne $dc "" }}ğŸ  Ğ”Ğ¦: <b>{{ $dc }}</b>{{ end }} / {{ if ne $ns "" }}ğŸ‘‰ NS: <b>{{ $ns }}</b>{{ end }}

{{ else if eq $severity "info" }}
â„¹ <b>Ğ£Ñ€Ğ¾Ğ²ĞµĞ½ÑŒ:</b> Ğ˜Ğ½Ñ„Ğ¾
{{ if ne $dc "" }}ğŸ  Ğ”Ğ¦: <b>{{ $dc }}</b> {{ end }} / {{ if ne $ns "" }}ğŸ‘‰ NS: <b>{{ $ns }}</b> {{ end }}
â„¹ <b>ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ: </b>{{ $descr }}
{{ else }}

<b>Ğ£Ñ€Ğ¾Ğ²ĞµĞ½ÑŒ: </b>? ğŸ¤ª {{ $severity }}
{{ end }}
{{ else }}

âœ… <b>{{ $alertName }}</b> âœ…
{{if eq $severity "critical"}}ğŸ¤¬ <b>Ğ‘Ñ‹Ğ» ÑƒÑ€Ğ¾Ğ²ĞµĞ½ÑŒ:</b> ĞšÑ€Ğ¸Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹
{{ if ne $dc "" }}ğŸ  Ğ”Ğ¦: <b>{{ $dc }}</b> {{ end }} / {{ if ne $ns "" }}ğŸ‘‰NS: <b>{{ $ns }}</b> {{ end }}
â„¹ <b>ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ:</b>{{ $descr }}

{{ else if eq $severity "warning" }}
ğŸ˜±<b>Ğ‘Ñ‹Ğ» ÑƒÑ€Ğ¾Ğ²ĞµĞ½ÑŒ:</b> Ğ’Ğ½Ğ¸Ğ¼Ğ°Ğ½Ğ¸Ğµ
{{ if ne $dc "" }}ğŸ  Ğ”Ğ¦: <b>{{ $dc }}</b> ğŸ {{ end }} / {{ if ne $ns "" }}ğŸ‘‰ NS: <b>{{ $ns }}</b> ğŸ‘ˆ{{ end }}
â„¹ <b>ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ:</b>{{ $descr }}
{{ else if eq $severity "info" }}
â„¹ <b>Ğ‘Ñ‹Ğ» ÑƒÑ€Ğ¾Ğ²ĞµĞ½ÑŒ:</b> Ğ˜Ğ½Ñ„Ğ¾
{{- if ne $dc "" -}}ğŸ  Ğ”Ğ¦: <b>{{ $dc }}</b> {{- end -}} / ğŸ‘‰ <b>{{ $summary }}</b> ğŸ‘ˆ
<b>ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ:</b>{{ $descr }}
{{ else }}
<b>Ğ‘Ñ‹Ğ» ÑƒÑ€Ğ¾Ğ²ĞµĞ½ÑŒ:</b> ĞĞ•Ğ˜Ğ—Ğ’Ğ•Ğ¡Ğ¢ĞĞ ğŸ¤ª {{ $severity }}
{{ end }}
{{ end }}
{{ end }}
